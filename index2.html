<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Dashboard PJBS</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="res/lib/devoops/plugins/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
        <link href="http://fonts.googleapis.com/css?family=Righteous" rel="stylesheet">
        <link href="res/lib/devoops/css/style.css" rel="stylesheet">
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <header class="navbar">
            <div class="container-fluid expanded-panel">
                <div class="row">
                    <div id="logo" class="col-xs-12 col-sm-2">
                        <a href="devoops.html">PJBS</a>
                    </div>
                    <div id="top-panel" class="col-xs-12 col-sm-10">
                        <div class="row">
                            <div class="col-xs-8 col-sm-4">
                                <a href="#" class="show-sidebar">
                                    <i class="fa fa-bars"></i>
                                </a>
                                <div id="search">
                                    <input type="text" placeholder="search"/>
                                    <i class="fa fa-search"></i>
                                </div>
                            </div>
                            <div class="col-xs-4 col-sm-8 top-panel-right">
                                <ul class="nav navbar-nav pull-right panel-menu">
                                    <li class="dropdown">
                                        <a href="#" class="dropdown-toggle account" data-toggle="dropdown">
                                            <div class="avatar">
                                                <img src="res/lib/devoops/img/avatar.jpg" class="img-rounded" alt="avatar"/>
                                            </div>
                                            <i class="fa fa-angle-down pull-right"></i>
                                            <div class="user-mini pull-right">
                                                <span class="welcome">Welcome,</span>
                                                <span>Zaki</span>
                                            </div>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href="#">
                                                    <i class="fa fa-user"></i>
                                                    <span class="hidden-sm text">Profile</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <i class="fa fa-power-off"></i>
                                                    <span class="hidden-sm text">Logout</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <div id="main" class="container-fluid">
            <div class="row">
                <div id="sidebar-left" class="col-xs-2 col-sm-2">
                    <ul class="nav main-menu">
                        <li>
                            <a href="#" class="active ajax-link">
                                <i class="fa fa-dashboard"></i>
                                <span class="hidden-xs">Dashboard</span>
                            </a>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle">
                                <i class="fa fa-map-marker"></i>
                                <span class="hidden-xs">Bolok</span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="ajax-link" href="#">Unit 1</a></li>
                                <li><a class="ajax-link" href="#">Unit 2</a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle">
                                <i class="fa fa-map-marker"></i>
                                <span class="hidden-xs">Amurang</span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="ajax-link" href="#">Unit 1</a></li>
                                <li><a class="ajax-link" href="#">Unit 2</a></li>
                                <li><a class="ajax-link" href="#">Unit 3</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#" class="ajax-link">
                                <i class="fa fa-map-marker"></i>
                                <span class="hidden-xs">Peta</span>
                            </a>
                        </li>
                    </ul>
                </div>
                <div id="content" class="col-xs-12 col-sm-10">
                    <div class="row">
                        <div id="breadcrumb" class="col-md-12">
                            <ol class="breadcrumb">
                                <li><a href="#">Dashboard</a></li>
                                <li><a href="#">Bolok</a></li>
                            </ol>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-sm-6">
                            <div class="box">
                                <div class="box-header">
                                    <div class="box-name">
                                        <i class="fa fa-bar-chart-o"></i>
                                        <span>Monitoring EAF unit #1 PLTU Bolok</span>
                                    </div>
                                    <div class="box-icons">
                                        <a class="collapse-link">
                                            <i class="fa fa-chevron-up"></i>
                                        </a>
                                        <a class="expand-link">
                                            <i class="fa fa-expand"></i>
                                        </a>
                                        <a class="close-link">
                                            <i class="fa fa-times"></i>
                                        </a>
                                    </div>
                                    <div class="no-move"></div>
                                </div>
                                <div class="box-content">
                                    <div id="container" style="min-height: 200px;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <div class="box">
                                <div class="box-header">
                                    <div class="box-name">
                                        <i class="fa fa-bar-chart-o"></i>
                                        <span>Live MW unit #1 PLTU Bolok</span>
                                    </div>
                                    <div class="box-icons">
                                        <a class="collapse-link">
                                            <i class="fa fa-chevron-up"></i>
                                        </a>
                                        <a class="expand-link">
                                            <i class="fa fa-expand"></i>
                                        </a>
                                        <a class="close-link">
                                            <i class="fa fa-times"></i>
                                        </a>
                                    </div>
                                    <div class="no-move"></div>
                                </div>
                                <div class="box-content">
                                    <div id="container2" style="min-height: 200px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-sm-6">
                            <div class="box">
                                <div class="box-header">
                                    <div class="box-name">
                                        <i class="fa fa-bar-chart-o"></i>
                                        <span>Monitoring EFOR unit #1 PLTU Bolok</span>
                                    </div>
                                    <div class="box-icons">
                                        <a class="collapse-link">
                                            <i class="fa fa-chevron-up"></i>
                                        </a>
                                        <a class="expand-link">
                                            <i class="fa fa-expand"></i>
                                        </a>
                                        <a class="close-link">
                                            <i class="fa fa-times"></i>
                                        </a>
                                    </div>
                                    <div class="no-move"></div>
                                </div>
                                <div class="box-content">
                                    <div id="container3" style="min-height: 200px;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <div class="box">
                                <div class="box-header">
                                    <div class="box-name">
                                        <i class="fa fa-bar-chart-o"></i>
                                        <span>Monitoring Net P Heat rate</span>
                                    </div>
                                    <div class="box-icons">
                                        <a class="collapse-link">
                                            <i class="fa fa-chevron-up"></i>
                                        </a>
                                        <a class="expand-link">
                                            <i class="fa fa-expand"></i>
                                        </a>
                                        <a class="close-link">
                                            <i class="fa fa-times"></i>
                                        </a>
                                    </div>
                                    <div class="no-move"></div>
                                </div>
                                <div class="box-content">
                                    <div id="container4" style="min-height: 200px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-sm-8">
                            <div class="box">
                                <div class="box-header">
                                    <div class="box-name">
                                        <i class="fa fa-map-marker"></i>
                                        <span>Geo Chart</span>
                                    </div>
                                    <div class="box-icons">
                                        <a class="collapse-link">
                                            <i class="fa fa-chevron-up"></i>
                                        </a>
                                        <a class="expand-link">
                                            <i class="fa fa-expand"></i>
                                        </a>
                                        <a class="close-link">
                                            <i class="fa fa-times"></i>
                                        </a>
                                    </div>
                                    <div class="no-move"></div>
                                </div>
                                <div class="box-content">
                                    <div id="map_canvas" style="min-height: 400px;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-4">
                            <div class="box">
                                <div class="box-header">
                                    <div class="box-name">
                                        <i class="fa fa-linux"></i>
                                        <span>Gangguan unit</span>
                                    </div>
                                    <div class="box-icons">
                                        <a class="collapse-link">
                                            <i class="fa fa-chevron-up"></i>
                                        </a>
                                        <a class="expand-link">
                                            <i class="fa fa-expand"></i>
                                        </a>
                                        <a class="close-link">
                                            <i class="fa fa-times"></i>
                                        </a>
                                    </div>
                                    <div class="no-move"></div>
                                </div>
                                <div class="box-content no-padding table-responsive">
                                    <table class="table table-bordered table-striped table-hover table-heading table-datatable" id="datatable-2">
                                        <thead>
                                            <tr>
                                                <th><label><input type="text" name="search_rate" value="Cari unit" class="search_init" /></label></th>
                                                <th><label><input type="text" name="search_name" value="Cari status" class="search_init" /></label></th>
                                                <th><label><input type="text" name="search_votes" value="Cari Keterangan" class="search_init" /></label></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>PLTU Paiton 9</td>
                                                <td>FO1</td>
                                                <td>Major overhaul (use for non-specific overhaul only)</td>
                                            </tr>
                                            <tr>
                                                <td>PLTU Rembang 2</td>
                                                <td>PO</td>
                                                <td>Low Btu coal</td>
                                            </tr>
                                            <tr class="danger">
                                                <td>PLTU T Awar Awar 1</td>
                                                <td>FD1</td>
                                                <td>Feedwater pump drive - steam turbine</td>
                                            </tr>
                                            <tr>
                                                <td>4</td>
                                                <td>FO1</td>
                                                <td>Feedwater controls (report local controls --- feedwater pump, feedwater regulator valve, etc., - - with component or system)</td>
                                            </tr>
                                            <tr class="primary">
                                                <td>5</td>
                                                <td>Fedora</td>
                                                <td>6.9%</td>
                                            </tr>
                                            <tr>
                                                <td>6</td>
                                                <td>openSUSE</td>
                                                <td>5.2%</td>
                                            </tr>
                                            <tr>
                                                <td>7</td>
                                                <td>SolydK</td>
                                                <td>4.7%</td>
                                            </tr>
                                            <tr>
                                                <td>8</td>
                                                <td>CentOS</td>
                                                <td>4.1%</td>
                                            </tr>
                                            <tr>
                                                <td>9</td>
                                                <td>Kubuntu</td>
                                                <td>3.8%</td>
                                            </tr>
                                            <tr class="warning">
                                                <td>10</td>
                                                <td>PCLinuxOS</td>
                                                <td>3.7%</td>
                                            </tr>
                                            <tr>
                                                <td>11</td>
                                                <td>Gentoo</td>
                                                <td>3.2%</td>
                                            </tr>
                                            <tr>
                                                <td>12</td>
                                                <td>Other</td>
                                                <td>2.1%</td>
                                            </tr>
                                            <tr>
                                                <td>13</td>
                                                <td>Slackware</td>
                                                <td>2.1%</td>
                                            </tr>
                                            <tr>
                                                <td>14</td>
                                                <td>elementary OS</td>
                                                <td>2%</td>
                                            </tr>
                                            <tr>
                                                <td>15</td>
                                                <td>Xubuntu</td>
                                                <td>2%</td>
                                            </tr>
                                            <tr>
                                                <td>16</td>
                                                <td>Manjaro</td>
                                                <td>1.8%</td>
                                            </tr>
                                            <tr>
                                                <td>17</td>
                                                <td>Red Hat Enterprise Linux</td>
                                                <td>1.6%</td>
                                            </tr>
                                            <tr class="info">
                                                <td>18</td>
                                                <td>Ubuntu Server</td>
                                                <td>1.6%</td>
                                            </tr>
                                            <tr>
                                                <td>19</td>
                                                <td>CrunchBang</td>
                                                <td>1.1%</td>
                                            </tr>
                                            <tr>
                                                <td>20</td>
                                                <td>Mageia</td>
                                                <td>0.8%</td>
                                            </tr>
                                            <tr>
                                                <td>21</td>
                                                <td>Chakra</td>
                                                <td>0.6%</td>
                                            </tr>
                                            <tr>
                                                <td>22</td>
                                                <td>Lubuntu</td>
                                                <td>0.5%</td>
                                            </tr>
                                            <tr>
                                                <td>23</td>
                                                <td>Puppy</td>
                                                <td>0.2%</td>
                                            </tr>
                                            <tr>
                                                <td>24</td>
                                                <td>Bodhi Linux</td>
                                                <td>0.1%</td>
                                            </tr>
                                            <tr>
                                                <td>25</td>
                                                <td>Kali Linux</td>
                                                <td>0.1%</td>
                                            </tr>
                                            <tr>
                                                <td>26</td>
                                                <td>Mandriva</td>
                                                <td>0.1%</td>
                                            </tr>
                                            <tr>
                                                <td>27</td>
                                                <td>Oracle Linux</td>
                                                <td>0.1%</td>
                                            </tr>
                                            <tr>
                                                <td>28</td>
                                                <td>SolusOS</td>
                                                <td>0.1%</td>
                                            </tr>
                                            <tr>
                                                <td>29</td>
                                                <td>Zorin OS</td>
                                                <td>0.1%</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Unit</th>
                                                <th>Status</th>
                                                <th>Keterangan</th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="box">
                                <div class="box-header">
                                    <div class="box-name">
                                        <i class="fa fa-linux"></i>
                                        <span>Unit Alarm Log</span>
                                    </div>
                                    <div class="box-icons">
                                        <a class="collapse-link">
                                            <i class="fa fa-chevron-up"></i>
                                        </a>
                                        <a class="expand-link">
                                            <i class="fa fa-expand"></i>
                                        </a>
                                        <a class="close-link">
                                            <i class="fa fa-times"></i>
                                        </a>
                                    </div>
                                    <div class="no-move"></div>
                                </div>
                                <div class="box-content no-padding table-responsive">
                                    <table class="table table-bordered table-striped table-hover table-heading table-datatable" id="datatable-1">
                                        <thead>
                                            <tr>
                                                <th><label><input type="text" name="search_rate" value="Cari unit" class="search_init" /></label></th>
                                                <th><label><input type="text" name="search_name" value="Cari status" class="search_init" /></label></th>
                                                <th><label><input type="text" name="search_votes" value="Cari Keterangan" class="search_init" /></label></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>PLTU Paiton 9</td>
                                                <td>FO1</td>
                                                <td>Major overhaul (use for non-specific overhaul only)</td>
                                            </tr>
                                            <tr>
                                                <td>PLTU Rembang 2</td>
                                                <td>PO</td>
                                                <td>Low Btu coal</td>
                                            </tr>
                                            <tr class="danger">
                                                <td>PLTU T Awar Awar 1</td>
                                                <td>FD1</td>
                                                <td>Feedwater pump drive - steam turbine</td>
                                            </tr>
                                            <tr>
                                                <td>4</td>
                                                <td>FO1</td>
                                                <td>Feedwater controls (report local controls --- feedwater pump, feedwater regulator valve, etc., - - with component or system)</td>
                                            </tr>
                                            <tr class="primary">
                                                <td>5</td>
                                                <td>Fedora</td>
                                                <td>6.9%</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Unit</th>
                                                <th>Status</th>
                                                <th>Keterangan</th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <marquee behavior="scroll" direction="left">Foot news MW realtime</marquee>
                </div>
            </div>
        </div>
        <script src="res/lib/jquery-1.11.0.js"></script>
        <script src="res/lib/Highcharts/js/highcharts.js"></script>
        <script src="res/lib/Highcharts/js/modules/exporting.js"></script>

        <script src="res/lib/devoops/plugins/bootstrap/bootstrap.js"></script>
        <script src="res/lib/devoops/plugins/jquery-ui/jquery-ui.js"></script>
        <script src="res/lib/devoops/plugins/datatables/jquery.dataTables.js"></script>
        <script src="res/lib/devoops/plugins/datatables/ZeroClipboard.js"></script>
        <script src="res/lib/devoops/plugins/datatables/TableTools.js"></script>
        <script src="res/lib/devoops/plugins/datatables/dataTables.bootstrap.js"></script>

        <script src="res/js/devoops.js"></script>
        <script src="res/lib/devoops/js/devoops.js"></script>
        <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyAWJH6AmcOpVee_n_d1YBDMMFKVTIjlejQ&sensor=false"></script>
        <script>
            var date = new Date();
            var day = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];
            var month = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];
            function cekDay(day, i) {
                hasil = (day < i) ? 7 + (day - i) : day - i;
                return hasil;
            }
            $(function() {
                $('#container').highcharts({
                    title: {
                        text: ''
                    },
                    xAxis: {
                        categories: [
                            day[cekDay(date.getDay(), 7)] + ', ' + (date.getDate() - 7) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 6)] + ', ' + (date.getDate() - 6) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 5)] + ', ' + (date.getDate() - 5) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 4)] + ', ' + (date.getDate() - 4) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 3)] + ', ' + (date.getDate() - 3) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 2)] + ', ' + (date.getDate() - 2) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 1)] + ', ' + (date.getDate() - 1) + '-' + month[date.getMonth()] + '-' + date.getFullYear()]
                    },
                    yAxis: {
                        title: {
                            text: 'EAF (%)'
                        },
                        plotLines: [{
                                value: 0,
                                width: 1,
                                color: '#808080'
                            }]
                    },
                    tooltip: {
                        valueSuffix: '%'
                    },
                    legend: {
                        align: 'bottom'
                    },
                    series: [{
                            name: 'Target EAF',
                            data: [94, 94, 94, 94, 94, 94, 94]
                        }, {
                            name: 'EAF Harian',
                            data: [90, 80, 95, 96, 93, 99, 100]
                        }]
                });
                $('#container3').highcharts({
                    title: {
                        text: ''
                    },
                    xAxis: {
                        categories: [
                            day[cekDay(date.getDay(), 7)] + ', ' + (date.getDate() - 7) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 6)] + ', ' + (date.getDate() - 6) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 5)] + ', ' + (date.getDate() - 5) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 4)] + ', ' + (date.getDate() - 4) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 3)] + ', ' + (date.getDate() - 3) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 2)] + ', ' + (date.getDate() - 2) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 1)] + ', ' + (date.getDate() - 1) + '-' + month[date.getMonth()] + '-' + date.getFullYear()]
                    },
                    yAxis: {
                        title: {
                            text: 'EFOR (%)'
                        },
                        plotLines: [{
                                value: 0,
                                width: 1,
                                color: '#808080'
                            }]
                    },
                    tooltip: {
                        valueSuffix: '%'
                    },
                    legend: {
                        align: 'bottom'
                    },
                    series: [{
                            name: 'Target EFOR',
                            data: [94, 94, 94, 94, 94, 94, 94]
                        }, {
                            name: 'EFOR Harian',
                            data: [90, 80, 95, 96, 93, 99, 100]
                        }]
                });
                $('#container4').highcharts({
                    title: {
                        text: ''
                    },
                    xAxis: {
                        categories: [
                            day[cekDay(date.getDay(), 7)] + ', ' + (date.getDate() - 7) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 6)] + ', ' + (date.getDate() - 6) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 5)] + ', ' + (date.getDate() - 5) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 4)] + ', ' + (date.getDate() - 4) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 3)] + ', ' + (date.getDate() - 3) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 2)] + ', ' + (date.getDate() - 2) + '-' + month[date.getMonth()] + '-' + date.getFullYear(),
                            day[cekDay(date.getDay(), 1)] + ', ' + (date.getDate() - 1) + '-' + month[date.getMonth()] + '-' + date.getFullYear()]
                    },
                    yAxis: {
                        title: {
                            text: 'Heat rate'
                        },
                        plotLines: [{
                                value: 0,
                                width: 1,
                                color: '#808080'
                            }]
                    },
                    tooltip: {
                        valueSuffix: '%'
                    },
                    legend: {
                        align: 'bottom'
                    },
                    series: [{
                            name: 'Target Heat rate',
                            data: [94, 94, 94, 94, 94, 94, 94]
                        }, {
                            name: 'Heat rate Harian',
                            data: [90, 80, 95, 96, 93, 99, 100]
                        }]
                });

                Highcharts.setOptions({
                    global: {
                        useUTC: false
                    }
                });
                var chart;
                $('#container2').highcharts({
                    chart: {
                        type: 'spline',
                        animation: Highcharts.svg,
                        marginRight: 10,
                        events: {
                            load: function() {
                                var series = this.series[0];
                                var series1 = this.series[1];
                                setInterval(function() {
                                    var x = (new Date()).getTime();
                                    series.addPoint([x, 290], false, true);
                                }, 1000);
                                setInterval(function() {
                                    var x = (new Date()).getTime(),
                                            y = Math.floor(Math.random() * (330 - 276 + 1)) + 276;
                                    series1.addPoint([x, y], true, true);
                                }, 1000);
                            }
                        }
                    },
                    title: {
                        text: ''
                    },
                    xAxis: {
                        type: 'datetime',
                        tickPixelInterval: 150
                    },
                    yAxis: {
                        title: {
                            text: 'Beban (MW)'
                        },
                        plotLines: [{
                                value: 0,
                                width: 1,
                                color: '#808080'
                            }]
                    },
                    tooltip: {
                        formatter: function() {
                            return '<b>' + this.series.name + '</b><br/>' +
                                    Highcharts.dateFormat('%Y-%m-%d %H:%M:%S', this.x) + '<br/>' +
                                    Highcharts.numberFormat(this.y, 2);
                        }
                    },
                    legend: {
                        align: 'bottom'
                    },
                    exporting: {
                        enabled: false
                    },
                    series: [{
                            name: 'Target MW',
                            data: (function() {
                                var data = [],
                                        time = (new Date()).getTime(),
                                        i;

                                for (i = -19; i <= 0; i++) {
                                    data.push({
                                        x: time + i * 1000,
                                        y: 290
                                    });
                                }
                                return data;
                            })()
                        }, {
                            name: 'Real MW',
                            data: (function() {
                                var data = [],
                                        time = (new Date()).getTime(),
                                        i;

                                for (i = -19; i <= 0; i++) {
                                    data.push({
                                        x: time + i * 1000,
                                        y: Math.floor(Math.random() * (330 - 276 + 1)) + 276
                                    });
                                }
                                return data;
                            })()
                        }]
                });

                var map;
                var marker = [];
                var infowindow = [];
                var call1 = [new google.maps.LatLng(-7.37383592221025, 112.730610002655), new google.maps.LatLng(1.182410822, 124.4804394)];
                var call2 = [new google.maps.LatLng(-7.37383592221025, 112.730610002655), new google.maps.LatLng(-10.2390878, 123.4904602)];
                var call3 = [new google.maps.LatLng(-7.37383592221025, 112.730610002655), new google.maps.LatLng(1.259549722, 101.2135315)];
                var call4 = [new google.maps.LatLng(-7.37383592221025, 112.730610002655), new google.maps.LatLng(0.738616989, 127.3890591)];

                function initialize() {
                    var myOptions = {
                        zoom: 5,
                        scrollwheel: false,
                        center: new google.maps.LatLng(-1.58183, 118.256836),
                        mapTypeId: google.maps.MapTypeId.HYBRID
                    };
                    map = new google.maps.Map(document.getElementById('map_canvas'), myOptions);
                    var lokasi = [[1.259549722, 101.2135315, 'red', 0],
                        [1.182410822, 124.4804394, 'green', 1],
                        [-10.2390878, 123.4904602, 'yellow', 2],
                        [0.738616989, 127.3890591, 'brown', 3]];
                    for (i = 0; i < lokasi.length; i++) {
                        addMarker(lokasi[i]);
                        infowindow[i] = new google.maps.InfoWindow();
                        infowindow[i].open(map, marker[i]);
                    }

                    function addMarker(m) {
                        marker[m[3]] = new google.maps.Marker({
                            position: new google.maps.LatLng(m[0], m[1]),
                            map: map,
                            icon: 'http://labs.google.com/ridefinder/images/mm_20_' + m[2] + '.png',
                            draggable: false
                        });
                    }

                    function addWindow(m, i) {
                        infowindow[i].setContent(m + " MW");
                    }

                    var lineSymbol = {
                        path: 'M 0,-1 0,1',
                        strokeOpacity: 1,
                        strokeWeight: 3,
                        scale: 4
                    };

                    var lineSymbol1 = {
                        path: 'M 0,-0.5 0,0.5',
                        scale: 4,
                        strokeWeight: 3,
                        strokeColor: '#69CC00'
                    };

                    var lineSymbol2 = {
                        path: 'M 0,-0.5 0,0.5',
                        scale: 4,
                        strokeWeight: 3,
                        strokeColor: '#69CC00'
                    };

                    var lineSymbol3 = {
                        path: 'M 0,-0.5 0,0.5',
                        scale: 4,
                        strokeWeight: 3,
                        strokeColor: '#69CC00'
                    };

                    var lineSymbol4 = {
                        path: 'M 0,-0.5 0,0.5',
                        scale: 4,
                        strokeWeight: 3,
                        strokeColor: '#69CC00'
                    };

                    new google.maps.Polyline({path: call1, map: map, strokeColor: "#92D050", geodesic: true, strokeOpacity: 0, icons: [{icon: lineSymbol, offset: "0", repeat: "20px"}]});
                    line1 = new google.maps.Polyline({path: call1, icons: [{icon: lineSymbol1, offset: "100%"}], map: map, strokeWeight: 0, geodesic: true});
                    function animateCircle1() {
                        var count = 0;
                        offsetId = window.setInterval(function() {
                            count = (count + 1) % 200;
                            var icons = line1.get("icons");
                            icons[0].offset = (count / 2) + "%";
                            line1.set("icons", icons);
                        }, 20);
                    }
                    animateCircle1();
                    new google.maps.Polyline({path: call2, map: map, strokeColor: "#92D050", geodesic: true, strokeOpacity: 0, icons: [{icon: lineSymbol, offset: "0", repeat: "20px"}]});
                    line2 = new google.maps.Polyline({path: call2, icons: [{icon: lineSymbol2, offset: "100%"}], map: map, strokeWeight: 0, geodesic: true});
                    function animateCircle2() {
                        var count = 0;
                        offsetId = window.setInterval(function() {
                            count = (count + 1) % 200;
                            var icons = line2.get("icons");
                            icons[0].offset = (count / 2) + "%";
                            line2.set("icons", icons);
                        }, 20);
                    }
                    animateCircle2();
                    new google.maps.Polyline({path: call3, map: map, strokeColor: "#92D050", geodesic: true, strokeOpacity: 0, icons: [{icon: lineSymbol, offset: "0", repeat: "20px"}]});
                    line3 = new google.maps.Polyline({path: call3, icons: [{icon: lineSymbol3, offset: "100%"}], map: map, strokeWeight: 0, geodesic: true});
                    function animateCircle3() {
                        var count = 0;
                        offsetId = window.setInterval(function() {
                            count = (count + 1) % 200;
                            var icons = line3.get("icons");
                            icons[0].offset = (count / 2) + "%";
                            line3.set("icons", icons);
                        }, 20);
                    }
                    animateCircle3();
                    new google.maps.Polyline({path: call4, map: map, strokeColor: "#92D050", geodesic: true, strokeOpacity: 0, icons: [{icon: lineSymbol, offset: "0", repeat: "20px"}]});
                    line4 = new google.maps.Polyline({path: call4, icons: [{icon: lineSymbol4, offset: "100%"}], map: map, strokeWeight: 0, geodesic: true});
                    function animateCircle4() {
                        var count = 0;
                        offsetId = window.setInterval(function() {
                            count = (count + 1) % 200;
                            var icons = line4.get("icons");
                            icons[0].offset = (count / 2) + "%";
                            line4.set("icons", icons);
                        }, 20);
                    }
                    animateCircle4();
                    function loop() {
                        $.get('duri.php', function(data) {
                            addWindow(data, 0);
                        });
                        $.get('amurang.php', function(data) {
                            addWindow(data, 1);
                        });
                        $.get('bolok.php', function(data) {
                            addWindow(data, 2);
                        });
                        $.get('tidore.php', function(data) {
                            addWindow(data, 3);
                        });
                        setTimeout(loop, 5000);
                    }
                    loop();
                }
                google.maps.event.addDomListener(window, 'load', initialize);

                var asInitVals = [];
                var oTable = $('#datatable-2').dataTable({
                    "aaSorting": [[0, "asc"]],
                    "sDom": "<'box-content'<'col-sm-6'f><'col-sm-6 text-right'l><'clearfix'>>rt<'box-content'<'col-sm-6'i><'col-sm-6 text-right'p><'clearfix'>>",
                    "sPaginationType": "bootstrap",
                    "oLanguage": {
                        "sSearch": "",
                        "sLengthMenu": '_MENU_'
                    },
                    bAutoWidth: false
                });
                var header_inputs = $("#datatable-2 thead input");
                header_inputs.on('keyup', function() {
                    /* Filter on the column (the index) of this element */
                    oTable.fnFilter(this.value, header_inputs.index(this));
                })
                        .on('focus', function() {
                            if (this.className == "search_init") {
                                this.className = "";
                                this.value = "";
                            }
                        })
                        .on('blur', function(i) {
                            if (this.value == "") {
                                this.className = "search_init";
                                this.value = asInitVals[header_inputs.index(this)];
                            }
                        });
                header_inputs.each(function(i) {
                    asInitVals[i] = this.value;
                });
                var asInitVals = [];
                var oTable = $('#datatable-1').dataTable({
                    "aaSorting": [[0, "asc"]],
                    "sDom": "<'box-content'<'col-sm-6'f><'col-sm-6 text-right'l><'clearfix'>>rt<'box-content'<'col-sm-6'i><'col-sm-6 text-right'p><'clearfix'>>",
                    "sPaginationType": "bootstrap",
                    "oLanguage": {
                        "sSearch": "",
                        "sLengthMenu": '_MENU_'
                    },
                    bAutoWidth: false
                });
                var header_inputs = $("#datatable-1 thead input");
                header_inputs.on('keyup', function() {
                    /* Filter on the column (the index) of this element */
                    oTable.fnFilter(this.value, header_inputs.index(this));
                })
                        .on('focus', function() {
                            if (this.className == "search_init") {
                                this.className = "";
                                this.value = "";
                            }
                        })
                        .on('blur', function(i) {
                            if (this.value == "") {
                                this.className = "search_init";
                                this.value = asInitVals[header_inputs.index(this)];
                            }
                        });
                header_inputs.each(function(i) {
                    asInitVals[i] = this.value;
                });
                WinMove();
            });
        </script>
    </body>
</html>
